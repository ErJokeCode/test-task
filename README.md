# Чат между телеграмм ботом и веб-приложением. Сбор и анализ данных
Реализован чат между телеграмм ботом и веб-приложением с использованием фреймворка FastAPI. Чат поддерживает отправку и получение сообщений в реальном времени с помощью WebSocket-соединения. Сбор данных о персонажах «Звездных войн» и получение статтистики по ним

## Содержание
- [Технологии](#Технологии)
- [Начало работы](#Начало-работы)
- [Источники](#Источники)

## Технологии
- [FAST API](https://fastapi.tiangolo.com/)
- [AIOGRAM 3](https://docs.aiogram.dev/en/v3.18.0/)
- [Pandas](https://pandas.pydata.org/)

## Начало работы

### Первая сборка и запуск
Для запустка потребуется [Docker](https://www.docker.com/) 

Склонируйте репозиторий себе на ПК с помощью команды: 
```sh
$ git clone https://github.com/ErJokeCode/test-task.git
```

Войдите в проект и создайте файлы .env в папках 'server' и 'tg_bot'. Примеры заполения есть в файлах .env.example в соответствующих папках. Чтобы получить TOKEN для бота, надо его создать в telegram с помощью [BotFather](https://web.telegram.org/k/#@BotFather)

Соберите и запустите проект с помощью docker:
```sh
$ docker-compose up
```

### Тестирование 

#### Чат между телеграмм ботом и веб-приложением

1. Зайдите на http://localhost:8000/chat/ , чтобы открыть чаты со стороны веб-приложения
2. Попробуйте что-нибудь написать в бота в telegram, который был создан при сборке проекта
3. Пользователь должен появиться в левой части экрана.
4. Нажатием на него, появляется чат с ним. Можете начинать общение с пользователем

#### Сбор и анализ данных
1. Зайдите в документацию к API http://localhost:8000/docs#/ . 
2. Получение информации о персонажах в виде json. Сделайте запрос по пути /swapi_dev/people 
3. Получение информации о персонажах в виде Excel файла. Сделайте запрос по пути /swapi_dev/people/file. Будет возвращена ссылка для скачивания файла
4. Получение статистики по персонажам. Сделайте запрос по пути /swapi_dev/people/statistic. Можете прикрепить файл, если получить статистику по нему, можно не прикреплять файл и данные будут получены автоматически 

## Источники
[API Звездных войн](https://swapi.dev/)